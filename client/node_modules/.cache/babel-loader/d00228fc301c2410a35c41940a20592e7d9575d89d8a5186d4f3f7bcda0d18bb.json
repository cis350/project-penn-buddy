{"ast":null,"code":"var _jsxFileName = \"/Users/nickywong/Documents/GitHub/project-penn-buddy/client/src/components/OtherPost.js\",\n  _s = $RefreshSig$();\n/* eslint-disable react/jsx-no-bind */\n/* eslint-disable no-console */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AppBar, Button, Container, Toolbar, Typography, Stack, Box, Avatar, IconButton } from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport PostDetail from './PostDetail';\nimport { createNewChatroom, getChatroomById } from '../api/chat';\nimport { getGroupById } from '../api/groups';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OtherPost(_ref) {\n  _s();\n  let {\n    ownerId,\n    location,\n    departDate,\n    modeTransport,\n    departPlace,\n    maxCapacity,\n    currCapacity,\n    currMemberIds,\n    groupId,\n    userId,\n    group,\n    handleLeaveGroup,\n    handleJoinGroup\n  } = _ref;\n  const navigate = useNavigate();\n  const handleChatroom = async e => {\n    const newTextData = [];\n    // create currMembersId\n    const r1 = await getGroupById(groupId);\n    const memberIds = r1.currMemberIds;\n    // check if the chatroom with said groupId already exists or not\n    const existChat = await getChatroomById(groupId);\n    if (typeof existChat === 'undefined') {\n      const response = await createNewChatroom(groupId, memberIds);\n    }\n    navigate('/chatroom');\n  };\n  function handleClickBack() {\n    navigate('/activityfeed');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      className: \"postbar\",\n      position: \"static\",\n      sx: {\n        bgcolor: 'background.paper',\n        boxShadow: 0,\n        borderRadius: 2,\n        p: 2,\n        minWidth: 300\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(ArrowBackIcon, {\n          color: \"secondary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flexGrow: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"text\",\n            color: \"secondary\",\n            sx: {\n              flex: 1\n            },\n            onClick: handleClickBack,\n            children: \"Back to Activity Feed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Stack, {\n          direction: \"row\",\n          spacing: 3,\n          children: currMemberIds.includes(userId) ? /*#__PURE__*/_jsxDEV(Stack, {\n            direction: \"row\",\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"warning\",\n              onClick: handleLeaveGroup,\n              children: \"Leave Group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"secondary\",\n              onClick: handleChatroom,\n              children: \"Go to Chatroom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this) : currCapacity < maxCapacity && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"secondary\",\n            onClick: handleJoinGroup,\n            children: \"Join Group\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PostDetail, {\n      ownerId: ownerId,\n      location: location,\n      departDate: departDate,\n      modeTransport: modeTransport,\n      departPlace: departPlace,\n      maxCapacity: maxCapacity,\n      currCapacity: currCapacity,\n      currMemberIds: currMemberIds\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(OtherPost, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = OtherPost;\nvar _c;\n$RefreshReg$(_c, \"OtherPost\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","AppBar","Button","Container","Toolbar","Typography","Stack","Box","Avatar","IconButton","ArrowBackIcon","PostDetail","createNewChatroom","getChatroomById","getGroupById","jsxDEV","_jsxDEV","OtherPost","_ref","_s","ownerId","location","departDate","modeTransport","departPlace","maxCapacity","currCapacity","currMemberIds","groupId","userId","group","handleLeaveGroup","handleJoinGroup","navigate","handleChatroom","e","newTextData","r1","memberIds","existChat","response","handleClickBack","children","className","position","sx","bgcolor","boxShadow","borderRadius","p","minWidth","color","fileName","_jsxFileName","lineNumber","columnNumber","flexGrow","variant","flex","onClick","direction","spacing","includes","_c","$RefreshReg$"],"sources":["/Users/nickywong/Documents/GitHub/project-penn-buddy/client/src/components/OtherPost.js"],"sourcesContent":["/* eslint-disable react/jsx-no-bind */\n/* eslint-disable no-console */\n/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  AppBar, Button, Container, Toolbar, Typography, Stack, Box, Avatar, IconButton,\n} from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport PostDetail from './PostDetail';\nimport { createNewChatroom, getChatroomById } from '../api/chat';\nimport { getGroupById } from '../api/groups';\n\nexport default function OtherPost({\n  ownerId, location, departDate, modeTransport,\n  departPlace, maxCapacity, currCapacity, currMemberIds,\n  groupId, userId, group, handleLeaveGroup, handleJoinGroup,\n}) {\n  const navigate = useNavigate();\n  const handleChatroom = async (e) => {\n    const newTextData = [];\n    // create currMembersId\n    const r1 = await getGroupById(groupId);\n    const memberIds = r1.currMemberIds;\n    // check if the chatroom with said groupId already exists or not\n    const existChat = await getChatroomById(groupId);\n    if (typeof existChat === 'undefined') {\n      const response = await createNewChatroom(groupId, memberIds);\n    }\n    navigate('/chatroom');\n  };\n  function handleClickBack() {\n    navigate('/activityfeed');\n  }\n  return (\n    <div>\n      <AppBar\n        className=\"postbar\"\n        position=\"static\"\n        sx={{\n          bgcolor: 'background.paper',\n          boxShadow: 0,\n          borderRadius: 2,\n          p: 2,\n          minWidth: 300,\n        }}\n      >\n        <Toolbar>\n          <ArrowBackIcon color=\"secondary\" />\n          <Box sx={{ flexGrow: 1 }}>\n            <Button variant=\"text\" color=\"secondary\" sx={{ flex: 1 }} onClick={handleClickBack}>Back to Activity Feed</Button>\n          </Box>\n          <Stack direction=\"row\" spacing={3}>\n            {\n              (currMemberIds.includes(userId)) ? (\n                <Stack direction=\"row\" spacing={3}>\n                  <Button variant=\"contained\" color=\"warning\" onClick={handleLeaveGroup}>Leave Group</Button>\n                  <Button variant=\"contained\" color=\"secondary\" onClick={handleChatroom}>Go to Chatroom</Button>\n                </Stack>\n              )\n                : ((currCapacity < maxCapacity) && <Button variant=\"contained\" color=\"secondary\" onClick={handleJoinGroup}>Join Group</Button>)\n            }\n          </Stack>\n        </Toolbar>\n      </AppBar>\n      <PostDetail\n        ownerId={ownerId}\n        location={location}\n        departDate={departDate}\n        modeTransport={modeTransport}\n        departPlace={departPlace}\n        maxCapacity={maxCapacity}\n        currCapacity={currCapacity}\n        currMemberIds={currMemberIds}\n      />\n\n    </div>\n\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
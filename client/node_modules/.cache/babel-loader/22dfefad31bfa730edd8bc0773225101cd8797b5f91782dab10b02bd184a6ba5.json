{"ast":null,"code":"var _jsxFileName = \"/Users/nickywong/Documents/GitHub/project-penn-buddy/client/src/components/Rating.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { getUserById, changeUser } from \"../api/users\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Rating(_ref) {\n  _s();\n  let {\n    userId\n  } = _ref;\n  const [rating, setRating] = useState(0);\n  const [hover, setHover] = useState(0);\n  const [ratingScore, setUserRating] = useState([]);\n  const newScore = useRef(0);\n  const [pennId, setPennId] = useState();\n  const [name, setUserName] = useState('');\n  const [email, setUserEmail] = useState('');\n  const [number, setUserNumber] = useState('');\n  const [year, setUserYear] = useState('');\n  const [major, setUserMajor] = useState('');\n  const [venmo, setUserVenmo] = useState('');\n  const [bio, setUserBio] = useState('');\n  // CHANGED RATING TO ARRAY\n  const [password, setUserPassword] = useState('');\n\n  // keep chatroom tht can be a ref\n  // id of chatrooms by the state currchatud\n\n  useEffect(() => {\n    async function getUserByIdWrapper() {\n      const response = await getUserById(userId);\n      console.log('user', response);\n      console.log('rating', response.rating);\n      setUserName(response.name);\n      setUserEmail(response.email);\n      setUserNumber(response.number);\n      setUserYear(response.year);\n      setUserMajor(response.major);\n      setUserVenmo(response.venmo);\n      setUserBio(response.bio);\n      setUserPassword(response.password);\n      setUserRating(response.rating);\n    }\n    // run the wrapper function\n    getUserByIdWrapper();\n  });\n  const createNewUser = async newRating => {\n    const modifiedData = {\n      id: userId,\n      name,\n      email,\n      number,\n      year,\n      major,\n      venmo,\n      bio,\n      rating: newRating,\n      password\n    };\n    const response = await changeUser(userId, modifiedData);\n  };\n  const handleRating = () => {\n    setRating(1);\n    const modRatingArr = [1];\n    ratingScore.forEach(r => {\n      modRatingArr.push(r);\n    });\n    console.log('modRatingarr', modRatingArr);\n    createNewUser(modRatingArr);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"star-rating\",\n      \"data-testid\": \"rating\",\n      children: [1, 2, 3, 4, 5].map(index => {\n        // index += 1\n        const keyValue = index;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"star-button\",\n          type: \"button\",\n          className: index <= (hover || rating) ? \"on\" : \"off\",\n          onClick: handleRating,\n          onMouseEnter: () => setHover(index),\n          onMouseLeave: () => setRating(rating),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"star\",\n            \"data-testid\": \"stars\",\n            children: \"\\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)\n        }, keyValue, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(Rating, \"6RGSlaq1+KhD7+0umWxZn8NGC9g=\");\n_c = Rating;\nexport default Rating;\nvar _c;\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"names":["React","useState","useRef","useEffect","getUserById","changeUser","jsxDEV","_jsxDEV","Rating","_ref","_s","userId","rating","setRating","hover","setHover","ratingScore","setUserRating","newScore","pennId","setPennId","name","setUserName","email","setUserEmail","number","setUserNumber","year","setUserYear","major","setUserMajor","venmo","setUserVenmo","bio","setUserBio","password","setUserPassword","getUserByIdWrapper","response","console","log","createNewUser","newRating","modifiedData","id","handleRating","modRatingArr","forEach","r","push","children","className","map","index","keyValue","type","onClick","onMouseEnter","onMouseLeave","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/nickywong/Documents/GitHub/project-penn-buddy/client/src/components/Rating.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { getUserById, changeUser } from \"../api/users\";\n\nfunction Rating({ userId }) {\n  const [rating, setRating] = useState(0);\n  const [hover, setHover] = useState(0);\n  const [ratingScore, setUserRating] = useState([]);\n  const newScore = useRef(0);\n\n  const [pennId, setPennId] = useState()\n  const [name, setUserName] = useState('');\n  const [email, setUserEmail] = useState('');\n  const [number, setUserNumber] = useState('');\n  const [year, setUserYear] = useState('');\n  const [major, setUserMajor] = useState('');\n  const [venmo, setUserVenmo] = useState('');\n  const [bio, setUserBio] = useState('');\n  // CHANGED RATING TO ARRAY\n  const [password, setUserPassword] = useState('');\n\n  // keep chatroom tht can be a ref\n  // id of chatrooms by the state currchatud\n\n  useEffect(() => {\n    async function getUserByIdWrapper() {\n      const response = await getUserById(userId);\n      console.log('user', response);\n      console.log('rating', response.rating);\n      setUserName(response.name);\n      setUserEmail(response.email);\n      setUserNumber(response.number);\n      setUserYear(response.year);\n      setUserMajor(response.major);\n      setUserVenmo(response.venmo);\n      setUserBio(response.bio);\n      setUserPassword(response.password);\n      setUserRating(response.rating);\n    }\n    // run the wrapper function\n    getUserByIdWrapper();\n  });\n\n  const createNewUser = async (newRating) => {\n    const modifiedData = {\n      id: userId,\n      name,\n      email,\n      number,\n      year,\n      major,\n      venmo,\n      bio,\n      rating: newRating,\n      password,\n    };\n    const response = await changeUser(userId, modifiedData);\n  };\n\n  const handleRating = () => {\n    setRating(1);\n    const modRatingArr = [1];\n    ratingScore.forEach((r) => {\n      modRatingArr.push(r);\n    });\n    console.log('modRatingarr', modRatingArr);\n    createNewUser(modRatingArr);\n  };\n\n  return (\n    <div>\n      <div className=\"star-rating\" data-testid=\"rating\">\n        {[1, 2, 3, 4, 5].map((index) => {\n          // index += 1\n          const keyValue = index;\n          return (\n            <button\n              data-testid=\"star-button\"\n              type=\"button\"\n              key={keyValue}\n              className={index <= (hover || rating) ? \"on\" : \"off\"}\n              onClick={handleRating}\n              onMouseEnter={() => setHover(index)}\n              onMouseLeave={() => setRating(rating)}\n            >\n              <span className=\"star\" data-testid=\"stars\">&#9733;</span>\n            </button>\n          );\n        })}\n      </div>\n    </div>\n\n  );\n}\n\nexport default Rating;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
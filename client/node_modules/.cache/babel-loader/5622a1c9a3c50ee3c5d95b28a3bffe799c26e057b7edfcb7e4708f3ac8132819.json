{"ast":null,"code":"var _jsxFileName = \"/Users/nickywong/Documents/GitHub/project-penn-buddy/client/src/components/Rating.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { getUserById, changeUser } from \"../api/users\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Rating(_ref) {\n  _s();\n  let {\n    userId\n  } = _ref;\n  const [rating, setRating] = useState(0);\n  const [hover, setHover] = useState(0);\n  const [ratingScore, setUserRating] = useState([]);\n  const newScore = useRef(0);\n  const [name, setUserName] = useState('');\n  const [email, setUserEmail] = useState('');\n  const [number, setUserNumber] = useState('');\n  const [year, setUserYear] = useState('');\n  const [major, setUserMajor] = useState('');\n  const [venmo, setUserVenmo] = useState('');\n  const [bio, setUserBio] = useState('');\n  // CHANGED RATING TO ARRAY\n  const [password, setUserPassword] = useState('');\n\n  // keep chatroom tht can be a ref\n  // id of chatrooms by the state currchatud\n\n  useEffect(() => {\n    async function getUserByIdWrapper() {\n      const response = await getUserById(userId);\n      setUserName(response.name);\n      setUserEmail(response.email);\n      setUserNumber(response.number);\n      setUserYear(response.year);\n      setUserMajor(response.major);\n      setUserVenmo(response.venmo);\n      setUserBio(response.bio);\n      setUserPassword(response.password);\n      setUserRating(response.rating);\n    }\n    // run the wrapper function\n    getUserByIdWrapper();\n  });\n  const createNewUser = async newRating => {\n    const modifiedData = {\n      id: userId,\n      name,\n      email,\n      number,\n      year,\n      major,\n      venmo,\n      bio,\n      rating: newRating,\n      password,\n      \"email\": \"\",\n      \"number\": \"\",\n      \"year\": \"\",\n      \"major\": \"\",\n      \"venmo\": \"\",\n      \"bio\": \"\",\n      \"rating\": [1],\n      \"password\": \"\"\n    };\n    const response = await changeUser(userId, modifiedData);\n  };\n  const handleRating = () => {\n    setRating(1);\n    const modRatingArr = [1];\n    ratingScore.forEach(r => {\n      modRatingArr.push(r);\n    });\n    // console.log('modRatingarr', modRatingArr);\n    createNewUser(modRatingArr);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"star-rating\",\n      \"data-testid\": \"rating\",\n      children: [1, 2, 3, 4, 5].map(index => {\n        // index += 1\n        const keyValue = index;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"star-button\",\n          type: \"button\",\n          className: index <= (hover || rating) ? \"on\" : \"off\",\n          onClick: handleRating(index),\n          onMouseEnter: () => setHover(index),\n          onMouseLeave: () => setRating(rating),\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"star\",\n            \"data-testid\": \"stars\",\n            children: \"\\u2605\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)\n        }, keyValue, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(Rating, \"2HlMepOk2GoMqOjRc6DxdvuwTXY=\");\n_c = Rating;\nexport default Rating;\nvar _c;\n$RefreshReg$(_c, \"Rating\");","map":{"version":3,"names":["React","useState","useRef","useEffect","getUserById","changeUser","jsxDEV","_jsxDEV","Rating","_ref","_s","userId","rating","setRating","hover","setHover","ratingScore","setUserRating","newScore","name","setUserName","email","setUserEmail","number","setUserNumber","year","setUserYear","major","setUserMajor","venmo","setUserVenmo","bio","setUserBio","password","setUserPassword","getUserByIdWrapper","response","createNewUser","newRating","modifiedData","id","handleRating","modRatingArr","forEach","r","push","children","className","map","index","keyValue","type","onClick","onMouseEnter","onMouseLeave","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/nickywong/Documents/GitHub/project-penn-buddy/client/src/components/Rating.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { getUserById, changeUser } from \"../api/users\";\n\nfunction Rating({ userId }) {\n  const [rating, setRating] = useState(0);\n  const [hover, setHover] = useState(0);\n  const [ratingScore, setUserRating] = useState([]);\n  const newScore = useRef(0);\n\n  const [name, setUserName] = useState('');\n  const [email, setUserEmail] = useState('');\n  const [number, setUserNumber] = useState('');\n  const [year, setUserYear] = useState('');\n  const [major, setUserMajor] = useState('');\n  const [venmo, setUserVenmo] = useState('');\n  const [bio, setUserBio] = useState('');\n  // CHANGED RATING TO ARRAY\n  const [password, setUserPassword] = useState('');\n\n  // keep chatroom tht can be a ref\n  // id of chatrooms by the state currchatud\n\n  useEffect(() => {\n    async function getUserByIdWrapper() {\n      const response = await getUserById(userId);\n      setUserName(response.name);\n      setUserEmail(response.email);\n      setUserNumber(response.number);\n      setUserYear(response.year);\n      setUserMajor(response.major);\n      setUserVenmo(response.venmo);\n      setUserBio(response.bio);\n      setUserPassword(response.password);\n      setUserRating(response.rating);\n    }\n    // run the wrapper function\n    getUserByIdWrapper();\n  });\n\n  const createNewUser = async (newRating) => {\n    const modifiedData = {\n      id: userId,\n      name,\n      \n      email,\n      number,\n      year,\n      major,\n      venmo,\n      bio,\n      rating: newRating,\n      password,\n      \"email\": \"\",\n      \"number\": \"\",\n      \"year\": \"\",\n      \"major\": \"\",\n      \"venmo\": \"\",\n      \"bio\": \"\",\n      \"rating\": [\n        1\n      ],\n      \"password\": \"\"\n    };\n    const response = await changeUser(userId, modifiedData);\n  };\n\n  const handleRating = () => {\n    setRating(1);\n    const modRatingArr = [1];\n    ratingScore.forEach((r) => {\n      modRatingArr.push(r);\n    });\n    // console.log('modRatingarr', modRatingArr);\n    createNewUser(modRatingArr);\n  };\n\n  return (\n    <div>\n      <div className=\"star-rating\" data-testid=\"rating\">\n        {[1, 2, 3, 4, 5].map((index) => {\n          // index += 1\n          const keyValue = index;\n          return (\n            <button\n              data-testid=\"star-button\"\n              type=\"button\"\n              key={keyValue}\n              className={index <= (hover || rating) ? \"on\" : \"off\"}\n              onClick={handleRating(index)}\n              onMouseEnter={() => setHover(index)}\n              onMouseLeave={() => setRating(rating)}\n            >\n              <span className=\"star\" data-testid=\"stars\">&#9733;</span>\n            </button>\n          );\n        })}\n      </div>\n    </div>\n\n  );\n}\n\nexport default Rating;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}